<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="resultMapper" >
  <resultMap id="countMap" type="java.lang.Long"/>
  <resultMap id="baseResultMap" type="hyman.springbootdemo.entity.User">
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="level" property="level" jdbcType="INTEGER" />
  </resultMap>

  <!--
    集合的多结果集，多 sql 查询:
    1，必须给定一个指定的名称给对应的结果集合，做法是：增加一个“resultSets”属性，并使用逗号作为间隔。
    2，也可以采用级联 collection 的方式，把结果集作为一个属性查出来。
  -->
  <select id="selectAndCount" resultMap="baseResultMap,countMap" resultSets="users,count" parameterType="java.util.Map" >
    SELECT
    <include refid="Base_Column_List" />
    FROM USER
    limit #{start},#{end};

    SELECT COUNT(id) count FROM USER;
  </select>

  <sql id="Base_Column_List" >
    id, name, remark,user_id,level
  </sql>

  <!--==================================分割线==========================================-->

</mapper>